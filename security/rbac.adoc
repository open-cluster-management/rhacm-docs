[#role-based-access-control]
= Role-based access control

Red Hat Advanced Cluster Management for Kubernetes supports several roles. Your role determines the actions that you can perform. Kubernetes offers role-based access control (RBAC) authorization mechanisms, so users of the cluster platform can be grouped into teams and have namespaces dedicated to teams.
For more information about RBAC, see the OpenShift _RBAC_ overview in the link:https://docs.openshift.com/container-platform/4.3/authentication/using-rbac.html[OpenShift Container Platform documentation].
View the following RBAC tables for components in Red Hat Advanced Cluster Management for Kubernetes:

[#overview-of-roles]
== Overview of roles

Some product resources are cluster-scoped and some are namespace-scoped. Users can create projects from OpenShift Container Platform, which gives administrator role permissions for the namespace. View the table list of the following role definitions that are supported in Red Hat Advanced Cluster Management for Kubernetes:
//should the role names be enclosed with the codeblock tick marks?
|===
| Role | Definition

| cluster-admin
| An user with cluster-wide binding to the cluster-admin role is an OpenShift Container Platform super user, who has all access.

| cluster-manager-admin
| An user with cluster-wide binding to the cluster-manager-admin role is a Red Hat Advanced Cluster Management for Kubernetes super user, who can perform any action on the product resources.

| open-cluster-management:managed-cluster-x (admin)
| An user with cluster binding to the managed-cluster-x role, has administrator access to `ManagedCluster “X”` resources.

| open-cluster-management:managed-cluster-x (viewer)
| An user with cluster-wide binding to the managed-cluster-x role, has view access to `ManagedCluster “X”` resources.

| open-cluster-management:subscription-admin
| Users and groups with the subscription-admin role can create Git subscriptions that deploy resources to multiple namespaces. The resources are specified in Kubernetes resource YAMLs in the subscribed Git repository. **Note**: When an non-subscription-admin user creates a subscription, all resources are deployed into the subscription namespace regardless of specified namespaces in the resources.
|===


[#rbac-implementation]
== RBAC implementation

RBAC is implemented as APIs. When a user attempts an action and the `retrieve` API resource succeeds, the console displays the result. The default roles for `managedcluster` resources are admin, edit, and view. View the following sections for more information on RBAC for specific lifecyles in the product.
 role-based access control table only applies if the user has only the given roles.

[#cluster-lifecycle-RBAC]
=== Cluster lifecycle RBAC

To perform cluster lifecycle operations, users must have access to the `managedcluster` namespace and resources. View the following console and API RBAC tables for Cluster lifecycle:

|===
| Action | Admin | Edit | View

| Create cluster
| No access
| No access
| No access

| Detach cluster
| Yes 
| No access 
| No access 

| Upgrade
| Yes
| Yes 
| No access

| Provider connections
| create, read, update, and delete
| create, read, update, and delete
| No access

| Baremetal
| Yes
| read, update
| read
|===

//let's try to think of a concise way to explain the data? All API resources for cluster lifecycle have the same access 

|===
| API | Admin | Edit | View

| klusterletaddonconfigs.agent.open-cluster-management.io
| create, read, update, delete
| read, update
| read

| manageclusters.cluster.open-cluster-management.io
| create, read, update, delete
| read, update
| read

| managedclusteractions.action.open-cluster-management.io
| create, read, update, delete
| read, update
| read

| managedclusterviews.view.open-cluster-management.io
| create, read, update, delete
| read, update
| read

| managedclusterinfos.internal.open-cluster-management.io
| create, read, update, delete
| read, update
| read

| manifestworks.work.open-cluster-management.io
| create, read, update, delete
| read, update
| read
|===


[#governance-lifecycle-RBAC]
=== Governance lifecycle RBAC

To perform Governance lifecylce operations, users must have access to the namespace where a policy is created, and access to the `managedcluster` namespace where a policy is created. A user with cluster-wide binding to admin or view access, also have write and read access to all policies and all management clusters on the hub cluster.

View the following console and API RBAC tables for Governance lifecycle:

|===
| Action | Admin | Edit | View

| Policies
| create, read, update, delete
| read
| read

| PlacementBindings
| create, read, update, delete
| read
| read

| PlacementRules
| create, read, update, delete
| read
| read
|===

|===
| API | Admin | Edit | View

| policies.policy.open-cluster-management.io
| create, read, update, delete
| read 
| read

| placementbindings.policy.open-cluster-management.io
| | create, read, update, delete
| read 
| read
|===


