[#pvc-does-not-change-after-editing-statefulsetsize]
= PVC does not change after editing statefulSetSize

When you update the `statefulSetSize` for any cluster that has the observability service enabled, the persistent volume claim (PVC) is not updated.


[#symptom-1-pvc-does-not-change-after-editing-statefulsetsize]
== Symptom 1: PVC does not change after editing statefulSetSize

After you update the `statefulSetSize`, current data from the Grafana dashboards in the {product-title-short} console disappears. Data from the {product-title-short} cluster overview dashboard is empty, however historical data is still available.

[#symptom-2-pvc-does-not-change-after-editing-statefulsetsize]
== Symptom 2: PVC does not change after editing statefulSetSize

On your managed clusters, you might receive an alert in the logs for the `metrics-collector-deployment-x`  pods that are running in the `open-cluster-management-addon-observability` namespace. You might receive the following error message:

----
HTTP 500, failing due to disk
----

[#resolving-pvc-does-not-change-after-editing-statefulsetsize]
== Resolving the problem: PVC does not change after editing statefulSetSize

If you have this problem, complete the following steps:

. Confirm if the disk space is full by running a query. 

.. Log in to the {ocp} console. 

.. From the navigation menu, click *Monitoring* > *Metrics*. 

.. Enter the following query in the _Expression_ window and sort the query to ascend by the _Volume_ column:
+
----
kubelet_volume_stats_available_bytes{namespace="open-cluster-management-observability"}/kubelet_volume_stats_capacity_bytes{namespace="open-cluster-management-observability"}
----
+
*Note:* If the value is 0, then the disk is full. If the disk is full continue with the following tasks.

. Expand the `data-observability-observatorium-thanos-receive-default-x` PVC to update the `storage` parameter to a greater value than the `statefulSetSize` value  from the MultiClusterObservability (mco) CR. Run the following command:
+
----
kubectl get pvc data-observability-observatorium-thanos-receive-default-0 -o yaml
----

. Verify the fix by completing the following steps:
.. Log in to your {product-title-short} console.
.. From the navigation menu, select *Observe environments* > *Overview*.
.. Click the Grafana link that is near the console header to view the metrics from your managed clusters.
.. Run the following command to view the `metrics-collector-deployment-x` pod logs
+
----
kubectl get metrics-collector-deployment-x
----
+
When the data is sent, the `HTTP 500, failing due to disk` error changes to read `HTTP 200, data sends`.
